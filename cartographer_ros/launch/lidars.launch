<?xml version="1.0"?>
<launch>
  <arg name="points2_1" />
  <arg name="points2_2" />
<!--  
  <arg name="points2_1" />
  <arg name="points2_2" />
  <arg name="points2_3" />
  <arg name="scan" />
-->
  <arg name="imu" />
  <arg name="map" />
  <arg name="lua_filename" />
  <arg name="odom_topic" default="cart_odom" />
  <arg name="simulation" />

  <arg name="local_config_dir" value="$(find cartographer_ros)/configuration_files" />
  <arg name="target_config_dir" value="/home/ubuntu/pathfinder/cartographer_ws/install_isolated/share/cartographer_ros/configuration_files" />

  <node name="cartographer_node" machine="nuc" pkg="cartographer_ros"
      type="cartographer_node"
      args="$(eval '-configuration_directory ' + (arg('local_config_dir') if arg('simulation') == True else arg('target_config_dir')) + ' -configuration_basename ' + arg('lua_filename'))"
      output="screen">

    <remap from="points2_1" to="$(arg points2_1)" />
    <remap from="points2_2" to="$(arg points2_2)" />
<!-- 
    <remap from="points2" to="$(arg points2)" />
    <remap from="points2_1" to="$(arg points2_1)" />
    <remap from="points2_2" to="$(arg points2_2)" />
    <remap from="points2_3" to="$(arg points2_3)" />
    <remap from="scan" to="$(arg scan)" />
 -->
    <remap from="imu" to="$(arg imu)" />
    <remap from="odom" to="$(arg odom_topic)" />

  </node>


  <node name="cartographer_occupancy_grid_node" machine="nuc" pkg="cartographer_ros"
      type="cartographer_occupancy_grid_node" args="-resolution 0.05" >
        <remap from="map" to="$(arg map)" />
  </node>

</launch>
